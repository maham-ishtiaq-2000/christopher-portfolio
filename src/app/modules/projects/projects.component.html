<div class="flex container">
  <div class="px-10 md:px-12 flex align-middle mb-6 w-full">
    <div class="hidden sm:flex">
    <button class="text-gray-50 mr-10 relative" (click)="onFilterClick($event)" (mouseenter) ="mouseEnter('')"  (mouseleave) ="mouseLeave()">All
      <span class="absolute opacity-100 -right-3 top-0 text-xs scale-100 transform " *ngIf="selectFilter === 'All'">{{filterDatacount('')}}</span>
    </button>

    <div class="flex gap-8 justify-apart">
        <button *ngFor="let v of filters" (click)="onFilterClick($event)" class="text-gray-50 relative" [attr.data-filter]="v" (mouseenter) ="mouseEnter(v)"  (mouseleave) ="mouseLeave()">
          {{ v }}
          <span class="absolute -right-3 top-0 text-xs scale-100 transform opacity-0" [ngClass]="{'opacity-100': v === selectFilter}">{{filterDatacount(v)}}</span>
          <span class="absolute -right-3 top-0 text-xs scale-100 transform opacity-0 transition-opacity" [ngClass]="{'opacity-100': v !== selectFilter && hoverSelect === v}">{{filterDatacount(v)}}</span>
        </button>
    </div>
    </div>
  <div class="sm:hidden flex justify-between items-center w-full">
    <span class="text-gray-100 uppercase text-sm">Filter By:</span>
    <select [(ngModel)]="selectFilter" (change)="onFilterClick($event)" class="appearance-none bg-white px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline text-gray-600">
      <option value="All" (click)="onFilterClick($event)">All</option>
      <option *ngFor="let v of filters" [value]="v" [attr.data-filter]="v">{{v}}</option>
    </select>
  </div>
  </div>
</div>

<div class="container">
  <div class="grid gap-10 mb-10 mx-3 sm:mx-0 transition-all" grid-isotope
    [ngClass]="{'opacity-100': imagesDidLoad, 'opacity-0': !imagesDidLoad}">
    <div class="relative grid-item w-full sm:w-1/2 lg:w-1/3 xl:w-1/4" [ngClass]="item.class" *ngFor="let item of items"
      [attr.data-proposition]="item.proposition" [attr.data-category]="Object.values(item.attributes).join(', ')">
      <div class="grid-item-inside rounded bg-[#fff]">
        <div class="overflow-hidden rounded-t">
        <img [src]="item.image" [routerLink]="item.brief"
              class="rounded cursor-default h-64 w-full object-cover object-top" [alt]="item.title" />
        </div>
        <div
          class="flex flex-col justify-between align-middle border-t">
        <ul>        
          <li class="px-8 pt-8 flex gap-3">
            <button [attr.data-filter]="item.attributes[key]" (click)="onFilterClick($event)"
                class="bg-gray-300/50 border-none rounded-full text-black py-1 px-3 hover:bg-gray-100 transition-colors"
                *ngFor="let key of Object.keys(item.attributes)">
                {{item.attributes[key]}}
              </button>
            </li>
            <li class="px-8 pb-8 border-b"><h3 class="mt-3 text-3xl font-semibold">{{item.title}}</h3></li>
            <li class="p-8 font-light text-lg tracking-normal border-b"><span class="line-clamp-2">{{item.desc}}</span></li>
          <a 
            [routerLink]="item.brief" 
            class="p-8 flex justify-between">
            <p class="text-md  hover:font-semibold">View Project</p>
             <i class="cursor-pointer bi bi-arrow-right text-xl"></i>
          </a>
        </ul>
        </div>
      </div>
    </div>
  </div>
</div>